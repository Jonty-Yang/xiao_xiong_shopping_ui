{"ast":null,"code":"export default {\n  name: \"UserLogin\",\n  data() {\n    return {\n      loginUser: {\n        phone: '',\n        password: ''\n      },\n      rules: {\n        phone: [{\n          required: true,\n          message: '请输入手机号',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          min: 3,\n          max: 16,\n          message: \"请输入3 到 16 长度的字符\",\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    login() {\n      this.$refs.myForm.validate(data => {\n        if (data) {\n          this.$axios.post(\"/user/login\", this.loginUser).then(resp => {\n            console.log(resp);\n            if (resp.data.code === 200) {\n              this.$message.success(\"登录成功！\");\n            } else {\n              this.$message.error(resp.data.data);\n            }\n          });\n        } else {\n          console.log('数据提交有误，校验未通过!');\n          this.$message.error(\"数据提交有误，校验未通过\");\n          return false;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AA0BA;EACAA;EACAC;IACA;MACAC;QACAC;QACAC;MACA;MACAC;QACAF,QACA;UAAAG;UAAAC;UAAAC;QAAA,EAEA;QACAJ,WACA;UAAAE;UAAAC;UAAAC;QAAA,GACA;UAAAC;UAAAC;UAAAH;UAAAC;QAAA;MAEA;IACA;EACA;EAEAG;IACAC;MACA;QACA;UACA,gDACAC;YACAC;YACA;cACA;YACA;cACA;YACA;UACA;QACA;UACAA;UACA;UACA;QACA;MACA;IAEA;EACA;AACA","names":["name","data","loginUser","phone","password","rules","required","message","trigger","min","max","methods","login","then","console"],"sourceRoot":"src/views","sources":["UserLogin.vue"],"sourcesContent":["<template>\r\n\r\n    <div>\r\n        <el-form class=\"login-form\"\r\n                 :rules=\"rules\"\r\n                 ref=\"myForm\"\r\n                 :model=\"loginUser\"\r\n                 label-position=\"left\"\r\n                 label-width=\"80px\"\r\n        >\r\n            <h2 class=\"login-title\">用户登录</h2>\r\n            <el-form-item class=\"el-form-item\" label=\"手机号\" prop=\"phone\">\r\n                <el-input v-model=\"loginUser.phone\" placeholder=\"输入手机号\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item class=\"el-form-item\" label=\"密码\" prop=\"password\">\r\n                <el-input v-model=\"loginUser.password\" type=\"password\" placeholder=\"输入密码\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item class=\"el-form-item\">\r\n                <el-button class=\"loginBtn\" type=\"primary\" @click=\"login('myForm')\">登 录</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"UserLogin\",\r\n        data() {\r\n            return {\r\n                loginUser: {\r\n                    phone: '',\r\n                    password: ''\r\n                },\r\n                rules: {\r\n                    phone: [\r\n                        { required: true, message: '请输入手机号', trigger: 'blur' },\r\n\r\n                    ],\r\n                    password: [\r\n                        { required: true , message: '请输入密码',trigger: 'blur'},\r\n                        { min:3,max:16,message: \"请输入3 到 16 长度的字符\",trigger: 'blur'}\r\n                    ]\r\n                }\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            login() {\r\n                this.$refs.myForm.validate( data => {\r\n                    if(data){\r\n                        this.$axios.post(\"/user/login\", this.loginUser)\r\n                            .then(resp => {\r\n                                console.log(resp)\r\n                                if (resp.data.code === 200) {\r\n                                    this.$message.success(\"登录成功！\")\r\n                                } else {\r\n                                    this.$message.error(resp.data.data)\r\n                                }\r\n                            })\r\n                    } else {\r\n                        console.log('数据提交有误，校验未通过!');\r\n                        this.$message.error(\"数据提交有误，校验未通过\")\r\n                        return false;\r\n                    }\r\n                })\r\n\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .login-title{\r\n        text-align: center;\r\n        color: #505458;\r\n    }\r\n    .login-form{\r\n        width: 350px;\r\n        margin: 90px auto;\r\n        box-shadow: 0 0 25px #cac6c6;\r\n        padding: 35px 35px 15px 35px;\r\n    }\r\n    .el-form-item{\r\n        width: 100%;\r\n    }\r\n    .loginBtn{\r\n        /*background-color: #505458;*/\r\n        color: white;\r\n        width: 100%\r\n    }\r\n    .loginBtn:hover{\r\n        /*opacity: 0.7!important;*/\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}