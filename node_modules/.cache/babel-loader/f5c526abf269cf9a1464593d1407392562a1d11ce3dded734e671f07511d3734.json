{"ast":null,"code":"import HomeNavBar from \"@/components/home/HomeNavBar\";\nimport Search from \"@/components/home/Search\";\nexport default {\n  name: \"GoodsDetail\",\n  components: {\n    Search,\n    HomeNavBar\n  },\n  data() {\n    return {\n      goodsDetail: {},\n      num: 1,\n      isUse: true,\n      order: {\n        gid: 1,\n        goods_name: '',\n        uid: 1,\n        price: 0,\n        total: 0,\n        number: this.num,\n        status: 0\n      }\n    };\n  },\n  created() {\n    this.goodsDetail = this.$store.state.goodsDetail;\n  },\n  methods: {\n    addNum() {\n      this.num++;\n      this.isUse = false;\n    },\n    subNum() {\n      if (this.num > 1) {\n        this.num--;\n      } else {\n        this.num = 1;\n        this.isUse = true;\n      }\n    },\n    // 点击下单\n    buy() {\n      this.order.uid = this.$store.state.userLogin.uid;\n      this.order.gid = this.goodsDetail.gid;\n      this.order.goods_name = this.goodsDetail.name;\n      this.order.price = this.goodsDetail.or_price;\n      this.order.total = this.goodsDetail.or_price * this.num;\n      this.$axios.post('/orders/buy', this.order).then(resp => {\n        if (resp.data.code == 200) {\n          this.$message.success(\"下单成功！\");\n        } else {\n          this.$message.error(\"下单失败！\");\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AA2DA;AACA;AAEA;EACAA;EACAC;IAAAC;IAAAC;EAAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA,4CACAC;QACA;UACA;QACA;UACA;QACA;MACA;IACA;EACA;AACA","names":["name","components","Search","HomeNavBar","data","goodsDetail","num","isUse","order","gid","goods_name","uid","price","total","number","status","created","methods","addNum","subNum","buy","then"],"sourceRoot":"src/components/goods","sources":["GoodsDetail.vue"],"sourcesContent":["<template>\r\n\r\n    <div class=\"box\">\r\n        <el-container class=\"el-container\">\r\n            <el-header>\r\n\r\n\r\n            </el-header>\r\n            <el-main class=\"el-main\">\r\n                <div class=\"left\">\r\n                    <img :src=\"goodsDetail.img\" alt=\"\">\r\n                </div>\r\n                <div class=\"right\">\r\n                    <div class=\"goods-title\">\r\n                        <h3>{{goodsDetail.name}}</h3>\r\n                        <span>月销{{goodsDetail.sales}}+</span>\r\n                    </div>\r\n                    <div class=\"price\">\r\n                        <span>原价：<del>￥{{goodsDetail.or_price}}</del></span>\r\n                        <span>促销价：￥{{goodsDetail.dis_price}}</span>\r\n                    </div>\r\n                    <div class=\"color\">\r\n                        <span>颜色：{{goodsDetail.color}}</span>\r\n                    </div>\r\n                    <div class=\"detail\">\r\n                        <span>商品描述：{{goodsDetail.remark}}</span>\r\n                    </div>\r\n                    <div class=\"number\">\r\n                        <span>数量：</span>\r\n                        <el-button type=\"primary\"\r\n                                   class=\"sub-num\"\r\n                                   @click=\"subNum\"\r\n                                   :disabled=\"isUse\"\r\n                                   size=\"mini\">-\r\n                        </el-button>\r\n                        <input\r\n                                class=\"num\"\r\n                                v-model=\"num\"\r\n                        />\r\n                        <el-button type=\"primary\"\r\n                                   class=\"add-num\"\r\n                                   @click=\"addNum\"\r\n                                   size=\"mini\">+\r\n                        </el-button>\r\n                    </div>\r\n                    <div>\r\n                        <el-button type=\"primary\" @click=\"buy\">立即下单</el-button>\r\n                        <el-button type=\"primary\">加入购物车</el-button>\r\n                    </div>\r\n                </div>\r\n            </el-main>\r\n            <el-footer>\r\n                宝贝评论\r\n            </el-footer>\r\n        </el-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import HomeNavBar from \"@/components/home/HomeNavBar\";\r\n    import Search from \"@/components/home/Search\";\r\n\r\n    export default {\r\n        name: \"GoodsDetail\",\r\n        components: {Search, HomeNavBar},\r\n        data() {\r\n            return {\r\n                goodsDetail: {},\r\n                num: 1,\r\n                isUse: true,\r\n                order: {\r\n                    gid: 1,\r\n                    goods_name:'',\r\n                    uid: 1,\r\n                    price: 0,\r\n                    total: 0,\r\n                    number: this.num,\r\n                    status: 0\r\n                }\r\n            }\r\n        },\r\n        created() {\r\n            this.goodsDetail = this.$store.state.goodsDetail\r\n        },\r\n        methods: {\r\n            addNum() {\r\n                this.num++\r\n                this.isUse = false\r\n            },\r\n            subNum() {\r\n                if (this.num > 1) {\r\n                    this.num--\r\n                } else {\r\n                    this.num = 1\r\n                    this.isUse = true\r\n                }\r\n            },\r\n            // 点击下单\r\n            buy() {\r\n                this.order.uid = this.$store.state.userLogin.uid\r\n                this.order.gid = this.goodsDetail.gid\r\n                this.order.goods_name = this.goodsDetail.name\r\n                this.order.price = this.goodsDetail.or_price\r\n                this.order.total = this.goodsDetail.or_price * this.num\r\n                this.$axios.post('/orders/buy',this.order)\r\n                .then( resp => {\r\n                    if(resp.data.code == 200 ){\r\n                        this.$message.success(\"下单成功！\")\r\n                    } else {\r\n                        this.$message.error(\"下单失败！\")\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    .box {\r\n        width: 100%;\r\n        height: 100%;\r\n        /*background-color: #E8E2E0;*/\r\n    }\r\n\r\n    .el-container {\r\n        margin: 0 auto;\r\n        width: 800px;\r\n    }\r\n\r\n    .left > img {\r\n        width: 300px;\r\n    }\r\n\r\n    .left, .right {\r\n        float: left;\r\n        margin-right: 20px;\r\n    }\r\n\r\n    .right > div {\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n\r\n    .number {\r\n        display: flex;\r\n        justify-content: left;\r\n    }\r\n\r\n    .num {\r\n        margin: 0 !important;\r\n        width: 60px !important;\r\n        text-align: center;\r\n    }\r\n\r\n    .add-num, .sub-num {\r\n        font-size: 20px;\r\n        border-radius: 0;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}