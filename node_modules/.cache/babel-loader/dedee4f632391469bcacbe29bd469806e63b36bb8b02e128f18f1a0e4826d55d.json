{"ast":null,"code":"import HomeNavBar from \"@/components/home/HomeNavBar\";\nimport Search from \"@/components/home/Search\";\nexport default {\n  name: \"ShopCart\",\n  components: {\n    Search,\n    HomeNavBar\n  },\n  data() {\n    return {\n      cartList: [{\n        goods: {\n          or_price: 0,\n          dis_price: 0\n        }\n      }]\n    };\n  },\n  computed: {\n    /*num(){\r\n        return num\r\n    }*/\n  },\n  created() {\n    this.cartList = this.$store.state.cartList;\n  },\n  methods: {\n    subNum(cart) {\n      console.log(cart);\n      let subNum = cart.num;\n      if (cart.num <= 1) {\n        subNum = 1;\n      } else {\n        subNum--;\n      }\n      this.cartList.forEach((c, i) => {\n        if (c.scid == cart.scid) {\n          c.num = subNum;\n        }\n      });\n    },\n    addNum(cart) {\n      console.log(cart);\n      let addNum = cart.num;\n      addNum++;\n      this.cartList.forEach((c, i) => {\n        if (c.scid == cart.scid) {\n          c.num = addNum;\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AAkEA;AACA;AAEA;EACAA;EACAC;IAAAC;IAAAC;EAAA;EACAC;IACA;MACAC;QACAC;UACAC;UACAC;QACA;MACA;IAEA;EACA;EACAC;IACA;AACA;AACA;EAFA,CAGA;EACAC;IACA;EACA;EACAC;IACAC;MACAC;MACA;MACA;QACAD;MACA;QACAA;MACA;MACA;QACA;UACAE;QACA;MACA;IACA;IACAC;MACAF;MACA;MACAE;MACA;QACA;UACAD;QACA;MACA;IACA;EACA;AACA","names":["name","components","Search","HomeNavBar","data","cartList","goods","or_price","dis_price","computed","created","methods","subNum","console","c","addNum"],"sourceRoot":"src/views","sources":["ShopCart.vue"],"sourcesContent":["<template>\r\n\r\n    <div class=\"box\">\r\n        <el-container>\r\n            <el-header>\r\n                <!--首页导航区-->\r\n                <div class=\"navBar\">\r\n                    <home-nav-bar></home-nav-bar>\r\n                </div>\r\n            </el-header>\r\n            <el-main class=\"el-main\">\r\n                <div class=\"search\">\r\n                    <search></search>\r\n                </div>\r\n                <div class=\"cart-title\">\r\n                    <h3>购物车</h3>\r\n                    <span>（全部 <span class=\"cart-total\">{{cartList.length}}</span>）</span>\r\n\r\n                </div>\r\n                <div class=\"cart\">\r\n                    <el-card class=\"box-card\"\r\n                             v-for=\"(cart,index) in cartList\"\r\n                             :body-style=\"{ padding: '20px' }\">\r\n                        <div class=\"goodsImg\">\r\n                            <img :src=\"cart.goods.img\" alt=\"商品图片\">\r\n                        </div>\r\n                        <div class=\"goodsName\">\r\n                            {{ cart.goods.name }}\r\n                        </div>\r\n                        <div class=\"price\">\r\n                            <del>￥{{cart.goods.or_price}}</del>\r\n                            <span>￥{{cart.goods.dis_price}}</span>\r\n                        </div>\r\n                        <!--{{num = cart.num}}-->\r\n                        <div class=\"number\">\r\n                            <el-button type=\"primary\"\r\n                                       class=\"sub-num\"\r\n                                       @click=\"subNum(cart)\"\r\n                                       size=\"mini\">-\r\n                            </el-button>\r\n\r\n                            <input v-model.number=\"cart.num\"\r\n                                   class=\"num\"\r\n                            />\r\n                            <el-button type=\"primary\"\r\n                                       class=\"add-num\"\r\n                                       @click=\"addNum(cart)\"\r\n                                       size=\"mini\">+\r\n                            </el-button>\r\n                        </div>\r\n                        <div class=\"total-price\">\r\n                            <span>￥{{parseFloat(cart.goods.dis_price * cart.num).toFixed(2)}}</span>\r\n                        </div>\r\n                        <!--操作-->\r\n                        <div class=\"operation\">\r\n                            <p>移入收藏夹</p>\r\n                            <span>删除</span>\r\n                        </div>\r\n                    </el-card>\r\n                </div>\r\n            </el-main>\r\n        </el-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import HomeNavBar from \"@/components/home/HomeNavBar\";\r\n    import Search from \"@/components/home/Search\";\r\n\r\n    export default {\r\n        name: \"ShopCart\",\r\n        components: {Search, HomeNavBar},\r\n        data() {\r\n            return {\r\n                cartList: [{\r\n                    goods: {\r\n                        or_price: 0,\r\n                        dis_price: 0\r\n                    },\r\n                }],\r\n\r\n            }\r\n        },\r\n        computed: {\r\n            /*num(){\r\n                return num\r\n            }*/\r\n        },\r\n        created() {\r\n            this.cartList = this.$store.state.cartList\r\n        },\r\n        methods: {\r\n            subNum(cart) {\r\n                console.log(cart)\r\n                let subNum = cart.num\r\n                if (cart.num <= 1) {\r\n                    subNum = 1\r\n                } else {\r\n                    subNum--\r\n                }\r\n                this.cartList.forEach((c, i) => {\r\n                    if (c.scid == cart.scid) {\r\n                        c.num = subNum\r\n                    }\r\n                })\r\n            },\r\n            addNum(cart) {\r\n                console.log(cart)\r\n                let addNum = cart.num\r\n                addNum++\r\n                this.cartList.forEach((c, i) => {\r\n                    if (c.scid == cart.scid) {\r\n                        c.num = addNum\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    * {\r\n        margin: 0;\r\n        padding: 0;\r\n    }\r\n\r\n    .navBar, .search {\r\n        margin: 0 auto;\r\n        width: 800px;\r\n        text-align: center;\r\n        border: 1px solid red;\r\n    }\r\n\r\n    .search > div {\r\n        margin: 0 auto;\r\n    }\r\n\r\n    .el-main {\r\n        width: 1230px;\r\n        margin: 0 auto;\r\n    }\r\n\r\n    .box {\r\n        width: 100%;\r\n        height: 100%;\r\n        /*background-color: #E8E2E0;*/\r\n    }\r\n\r\n    .cart {\r\n        width: 100%;\r\n    }\r\n\r\n    .cart-title h3 {\r\n        display: inline-block;\r\n    }\r\n\r\n    .cart-title {\r\n        font-weight: bold;\r\n    }\r\n\r\n    .box-card {\r\n        width: 100%;\r\n        margin: 10px 0;\r\n        height: 190px;\r\n    }\r\n\r\n    .box-card div {\r\n        width: 150px;\r\n        float: left;\r\n        margin-right: 20px;\r\n        border: 1px solid orangered;\r\n    }\r\n\r\n    .box-card:hover {\r\n        box-shadow: 0 0 25px gray;\r\n        border: 1px solid orangered;\r\n    }\r\n\r\n    .goodsImg > img {\r\n        width: 150px;\r\n        height: 150px;\r\n        border: 1px solid red;\r\n    }\r\n\r\n    .goodsName {\r\n        width: 200px !important;\r\n    }\r\n\r\n    .price > del {\r\n        font-size: 12px;\r\n        color: gray;\r\n        display: block;\r\n    }\r\n\r\n    .price > span {\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .number {\r\n        display: flex;\r\n        justify-content: center;\r\n    }\r\n\r\n    .num {\r\n        margin: 0 !important;\r\n        width: 60px !important;\r\n        text-align: center;\r\n    }\r\n\r\n    .add-num, .sub-num {\r\n        font-size: 20px;\r\n        border-radius: 0;\r\n    }\r\n\r\n    .total-price > span {\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n        color: orangered;\r\n    }\r\n\r\n    .operation {\r\n        font-size: 13px;\r\n    }\r\n\r\n    .operation p {\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}